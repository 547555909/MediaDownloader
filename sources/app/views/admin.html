<include href="header.htm" /> 

<div class="container">
	<div class="panel panel-primary">
		<div class="panel-heading"><h3 class="panel-title">{{ @LANG.Administration }}</h3></div>
		<div class="panel-body">
			<form method="post">
				<set has_success="{{ @VERB == 'POST' ? 'has-success' : '' }}">
				<fieldset>
					<legend>{{ @LANG.DownloadSettings }}</legend>
					<div class="form-group {{ empty(@View.Validation.download_path) ? @has_success : 'has-error' }}">
						<label for="download_path" class="control-label">{{ @LANG.DownloadPath }}</label>
						<input type="text" class="form-control" id="download_path" name="download_path" value="{{@View.Config.download_path}}">
						<span class="help-block">{{@LANG.DownloadPathDesc }}</span>
						<check if="{{ !empty(@View.Validation.download_path) }}">
							<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
							<ul class="help-block">
								<repeat group="{{@View.Validation.download_path}}" value="{{@value}}">
									<li>{{@value}}</li>
								</repeat>
							</ul>
						</check>
					</div>
					<div class="row">
						<div class="form-group col-sm-6 {{ empty(@View.Validation.max_simultaneous) ? @has_success : 'has-error' }}">
							<label for="max_simultaneous" class="control-label">{{ @LANG.MaximumSimultaneous }}</label>
							<input type="number" class="form-control" id="max_simultaneous" name="max_simultaneous" value="{{@View.Config.max_simultaneous}}" min="0">
							<span class="help-block">{{ @LANG.MaximumSimultaneousDesc }}</span>
							<check if="{{ !empty(@View.Validation.max_simultaneous) }}">
								<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
								<ul class="help-block">
									<repeat group="{{@View.Validation.max_simultaneous}}" value="{{@value}}">
										<li>{{@value}}</li>
									</repeat>
								</ul>
							</check>
						</div>
						<div class="form-group col-sm-6 {{ empty(@View.Validation.max_concurrents) ? @has_success : 'has-error' }}">
							<label for="max_concurrents" class="control-label">Maximum concurrents</label>
							<input type="number" class="form-control" id="max_concurrents" name="max_concurrents" value="{{@View.Config.max_concurrents}}" min="0">
							<span class="help-block">{{ @LANG.MaximumConcurrentsDesc }}</span>
							<check if="{{ !empty(@View.Validation.max_concurrents) }}">
								<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
								<ul class="help-block">
									<repeat group="{{@View.Validation.max_concurrents}}" value="{{@value}}">
										<li>{{@value}}</li>
									</repeat>
								</ul>
							</check>
						</div>
					</div>
					<div class="row">
						<div class="form-group col-sm-6 {{ empty(@View.Validation.default_quality) ? @has_success : 'has-error' }}">
							<label for="default_quality" class="control-label">{{ @LANG.DefaultQuality }}</label>
							<select name="default_quality" class="form-control">
								<repeat group="{{@LANG.FormatQuality}}" key="{{@value}}" value="{{@name}}">
									<option value="{{@value}}" {{@View.Config.default_quality == @value ? 'selected' : ''}}>{{@name}}</option>
								</repeat>
							</select>
							<span class="help-block">{{ @LANG.DefaultQualityDesc }}</span>
							<check if="{{ !empty(@View.Validation.default_quality) }}">
								<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
								<ul class="help-block">
									<repeat group="{{@View.Validation.default_quality}}" value="{{@value}}">
										<li>{{@value}}</li>
									</repeat>
								</ul>
							</check>
						</div>
						<div class="form-group col-sm-6 {{ empty(@View.Validation.default_stream) ? @has_success : 'has-error' }}">
							<label for="default_stream" class="control-label">{{ @LANG.DefaultStream }}</label>
							<select name="default_stream" class="form-control">
								<repeat group="{{@LANG.FormatStream}}" key="{{@value}}" value="{{@name}}">
									<option value="{{@value}}" {{@View.Config.default_stream == @value ? 'selected' : ''}}>{{@name}}</option>
								</repeat>
							</select>
							<span class="help-block">{{ @LANG.DefaultStreamDesc }}</span>
							<check if="{{ !empty(@View.Validation.default_stream) }}">
								<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
								<ul class="help-block">
									<repeat group="{{@View.Validation.default_stream}}" value="{{@value}}">
										<li>{{@value}}</li>
									</repeat>
								</ul>
							</check>
						</div>
					</div>
				</fieldset>
				
				<fieldset>
					<legend>{{ @LANG.YoutubedlSettings }}</legend>
					<div class="form-group {{ empty(@View.Validation.youtubedl_path) ? @has_success : 'has-error' }}">
						<label for="youtubedl_path" class="control-label">{{ @LANG.YoutubedlPath }}</label>
						<input type="text" class="form-control" id="youtubedl_path" name="youtubedl_path" value="{{@View.Config.youtubedl_path}}">
						<span class="help-block">{{ @LANG.YoutubedlPathDesc }}</span>
						<check if="{{ !empty(@View.Validation.youtubedl_path) }}">
							<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
							<ul class="help-block">
								<repeat group="{{@View.Validation.youtubedl_path}}" value="{{@value}}">
									<li>{{@value}}</li>
								</repeat>
							</ul>
						</check>
					</div>
					<div class="form-group {{ empty(@View.Validation.youtubedl_path) ? @has_success : 'has-error' }}">
						<label for="youtubedl_args" class="control-label">{{ @LANG.YoutubedlExtraArgs }}</label>
						<input type="text" class="form-control" id="youtubedl_args" name="youtubedl_args" value="{{@View.Config.youtubedl_args}}">
						<span class="help-block">{{ @LANG.YoutubedlExtraArgsDesc }}</span>
						<check if="{{ !empty(@View.Validation.youtubedl_args) }}">
							<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
							<ul class="help-block">
								<repeat group="{{@View.Validation.youtubedl_args}}" value="{{@value}}">
									<li>{{@value}}</li>
								</repeat>
							</ul>
						</check>
					</div>
				</fieldset>
				
				<fieldset>
					<legend>{{ @LANG.AppSettings }}</legend>
					<div class="row">
						<div class="form-group col-sm-6 {{ empty(@View.Validation.debug_level) ? @has_success : 'has-error' }}">
							<label for="debug_level" class="control-label">{{ @LANG.DebugLevel }}</label>
							<input type="number" class="form-control" id="debug_level" name="debug_level" value="{{@View.Config.debug_level}}" min="0" max="3">
							<span class="help-block">{{ @LANG.DebugLevelDesc }}</span>
							<check if="{{ !empty(@View.Validation.debug_level) }}">
								<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
								<ul class="help-block">
									<repeat group="{{@View.Validation.debug_level}}" value="{{@value}}">
										<li>{{@value}}</li>
									</repeat>
								</ul>
							</check>
						</div>
						<div class="checkbox col-sm-6 {{ empty(@View.Validation.cache) ? @has_success : 'has-error' }}">
							<label>
								<input type="checkbox" class="form-control" id="cache" name="cache" {{@View.Config.cache ? 'checked' : ''}}>{{ @LANG.EnableCache }}
								<span class="help-block">{{ @LANG.EnableCacheDesc }}</span>
							</label>
							<check if="{{ !empty(@View.Validation.cache) }}">
								<span class="help-block"><b>{{ @LANG.ValidationFailed . @LANG.Colon }}</b></span>
								<ul class="help-block">
									<repeat group="{{@View.Validation.cache}}" value="{{@value}}">
										<li>{{@value}}</li>
									</repeat>
								</ul>
							</check>
						</div>
					</div>
				</fieldset>
				
				<div class="text-center">
					<check if="{{ empty(@View.Validation) }}">
						<true>
							<button type="reset" class="btn btn-default">{{ @LANG.Reset }}</button>
						</true>
						<false>
							<a href="{{@REALM}}" class="btn btn-default">{{ @LANG.Reset }}</a>
						</false>
					</check>
					<button type="submit" class="btn btn-primary">{{ @LANG.Save }}</button>
				</div>
			</form>
		</div>
	</div>
</div>

<include href="footer.htm" />